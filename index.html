<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<h1></h1>

<script>
  document.addEventListener('DOMContentLoaded', function() {
  testWebP(document.querySelector('h1'))
})

function testWebP(elem) {
  const webP = new Image();
  webP.src = 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';
  webP.onload = webP.onerror = function () {
    webP.height === 2 ? elem.innerHTML = 'Поздравляю, твой браузер поддерживает webp! ))' : elem.classList.innerHTML = 'Увы, но твой твой браузер не поддерживает webp! (('
  }
  console.log(webP)
}

</script>

<body>
</body>
